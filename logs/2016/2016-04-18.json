[{"time":"1460934106.370","nick":"ⓢ yoyo","msg":"Summit 2016 網站講者卞中佩,  李雪莉的大頭像連結無效"},{"time":"1460958248.800","nick":"ⓢ miaoski","msg":"LineBOT 繼續卡關。找了認識該公司工程師的朋友，看能不能從裡面找到 support… =,="},{"time":"1460962312.703","nick":"ⓢ caasi","msg":"驚人的毅力...！"},{"time":"1460963036.589","nick":"ⓢ miaoski","msg":"@caasi: 因為有朋友成功了啊 =,="},{"time":"1460964098.849","nick":"ⓢ evan","msg":"@miaoski 不考慮 azure? 怎麼AWS 都是問題比較多的文章?"},{"time":"1460964272.035","nick":"ⓢ miaoski","msg":"@evan: Azure 就會收到 callback 的話，也可以哦。我也有 coupon ..."},{"time":"1460964819.684","nick":"ⓢ evan","msg":"幸い、Azure では *.<a href=\"http://azurewebsites.net\">http://azurewebsites.net</a> ドメインの既定の証明書が使用できるため、特に何もしなくてもHTTPSが有効になっています    &lt;<a href=\"http://pierre3.hatenablog.com/entry/2016/04/13/234505\">http://pierre3.hatenablog.com/entry/2016/04/13/234505</a>&gt;"},{"time":"1460964820.487","nick":"kcwu","msg":"slackbot4's url (2/2): [Azure App Service + ASP.NET Web API で LINE BOTを作ってみる - pierre3のブログ]"},{"time":"1460964961.854","nick":"ⓢ miaoski","msg":"evan: ++"},{"time":"1460965222.427","nick":"oreo_terces","msg":"@miaoski: 實際的問題是什麼? callback 沒有戳嗎? http server log呢? "},{"time":"1460965265.247","nick":"ⓢ miaoski","msg":"@oreo_terces: callback 沒有戳。完全沒有 HTTP Server Log."},{"time":"1460965285.246","nick":"ⓢ miaoski","msg":"同一個網站剪下貼上用 curl 打過了，所以排除了在 LINE Dev Console 打錯字的可能。"},{"time":"1460965334.189","nick":"oreo_terces","msg":"如果自己從server 發request 過去, response 是什麼?"},{"time":"1460965416.389","nick":"ⓢ miaoski","msg":"因為我是用 flask 開發的，收到的是 AWS API Gateway 轉發過來的訊息 (在另一台電腦，等一下貼上來)，目前沒有 response 資料。"},{"time":"1460965418.471","nick":"oreo_terces","msg":"@miaoski: 我之前也有遇過這種callback 完全沒有戳的問題 可是不知道為什麼同一份code 隔天就能用了 後來我猜是LINE 那邊沒有deploy 你的callback @@"},{"time":"1460965440.414","nick":"ⓢ miaoski","msg":"@oreo_terces: 我也這樣猜，可是已經等了差不多 24 小時了... :simple_smile:"},{"time":"1460965487.458","nick":"oreo_terces","msg":"可以在設好white list 的server 上面用 <a href=\"https://developers.line.me/bot-api/api-reference#getting_user_profile_information\">https://developers.line.me/bot-api/api-reference#getting_user_profile_information</a> 查看看自己"},{"time":"1460965489.818","nick":"kcwu","msg":"oreo_terces's url: [LINE Developers - BOT API - API reference]"},{"time":"1460965490.922","nick":"oreo_terces","msg":"看有沒有回應?"},{"time":"1460965540.529","nick":"ⓢ miaoski","msg":"@oreo_terces: 好哦! 謝謝! 馬上來試。"},{"time":"1460965853.259","nick":"oreo_terces","msg":"@miaoski: 我查詢我自己的結果 <a href=\"https://gist.github.com/terces/8e5b91e98906af440c0495ba33237542\">https://gist.github.com/terces/8e5b91e98906af440c0495ba33237542</a>"},{"time":"1460965854.922","nick":"kcwu","msg":"oreo_terces's url: [LINE BOT API · GitHub]"},{"time":"1460965986.054","nick":"ⓢ miaoski","msg":"@oreo_terces: 這是我自己亂打 curl 的結果 (error log 請無視...)"},{"time":"1460965987.055","nick":"ⓢ miaoski","msg":"&lt;<a href=\"http://pastebin.com/CLUdPTse\">http://pastebin.com/CLUdPTse</a>&gt;"},{"time":"1460965987.957","nick":"kcwu","msg":"slackbot4's url: [$ curl -XPOST <a href=\"https://y5y98w7014.execute-api.ap-northeast-1.amazonaws.com:443/pr\">https://y5y98w7014.execute-api.ap-northeast-1.amazonaws.com:443/pr</a> - Pastebin.com]"},{"time":"1460965993.401","nick":"oreo_terces","msg":"@miaoski: 我跟朋友之前有測試過一些SSL 好像很多種不吃, 目前確定可以用的是 comodo 系的, 可以去申請一個trial 的試試"},{"time":"1460966225.350","nick":"ⓢ miaoski","msg":"@oreo_terces: 對。所以我試過 Let's Encrypt (確定不行) COMODO (CloudFlare) 別人說可以但我不行, AWS API Gateway (別人說可以但我也不行)"},{"time":"1460966227.350","nick":"ⓢ miaoski","msg":":simple_smile:"},{"time":"1460966295.435","nick":"ⓢ miaoski","msg":"{&quot;contacts&quot;:[],&quot;count&quot;:0,&quot;display&quot;:1,&quot;pagingRequest&quot;:{&quot;start&quot;:1,&quot;display&quot;:1,&quot;sortBy&quot;:&quot;MID&quot;},&quot;start&quot;:1,&quot;total&quot;:1} 我拿到的是這個"},{"time":"1460966313.462","nick":"ⓢ miaoski","msg":"因為我不知道我自己 MID ..."},{"time":"1460966332.013","nick":"oreo_terces","msg":"oops "},{"time":"1460966348.871","nick":"oreo_terces","msg":"你要登入進去LINE的頁面看 "},{"time":"1460966360.511","nick":"ⓢ miaoski","msg":"查 BOT 的 MID 的話結果是這個 {&quot;contacts&quot;:[{&quot;displayName&quot;:&quot;Moedict Amis 阿美語萌典&quot;,&quot;mid&quot;:&quot;u9f1935c043b3cd0bc1d64726b0be33e3&quot;,&quot;pictureUrl&quot;:&quot;&lt;<a href=\"http://dl.profile.line-cdn.net/0m015a53dd7251da76649b0e94811ec5c51b70e3e62491&gt;&quot;,&quot;statusMessage&quot;:&quot;&quot;}],&quot;count&quot;:1,&quot;display&quot;:1,&quot;pagingRequest&quot;:{&quot;start&quot;:1,&quot;display&quot;:1,&quot;sortBy&quot;:&quot;MID&quot;},&quot;start&quot;:1,&quot;total&quot;:1}\">http://dl.profile.line-cdn.net/0m015a53dd7251da76649b0e94811ec5c51b70e3e62491&gt;&quot;,&quot;statusMessage&quot;:&quot;&quot;}],&quot;count&quot;:1,&quot;display&quot;:1,&quot;pagingRequest&quot;:{&quot;start&quot;:1,&quot;display&quot;:1,&quot;sortBy&quot;:&quot;MID&quot;},&quot;start&quot;:1,&quot;total&quot;:1}</a>"},{"time":"1460966363.518","nick":"ⓢ miaoski","msg":"看起來是對的"},{"time":"1460966383.528","nick":"oreo_terces","msg":"哦 那應該可以正常發呀 "},{"time":"1460966471.635","nick":"ⓢ miaoski","msg":"@oreo_terces: 對啊… 所以一切的問題都是 callback 收不到 XD 而且因為沒有對方的 error_log 所以不知道到底錯在哪..."},{"time":"1460966499.749","nick":"ⓢ miaoski","msg":"他們的工程師說可以把 Let’s Encrypt 的 CA text 放進 intermediate file 這樣就可以用 Let’s Encrypt 了。具體是什麼意思我其實看不懂 XD"},{"time":"1460966525.715","nick":"ⓢ miaoski","msg":"Install intermediate CA certificate 吧，我猜。不過反正我現在有 AWS API Gateway 了.... 沒差"},{"time":"1460966580.807","nick":"ⓢ miaoski","msg":"Let’s Encrypt X3 -&gt; DST Root CA X3 -&gt; ISRG Root X1 然後 LINE 有支援 ISRG. 但 Let’s Encrypt 沒有包括 DST -&gt; ISRG 這邊。"},{"time":"1460966665.481","nick":"oreo_terces","msg":"如果server 上面沒有流量 可以用tcpdump 聽看看LINE有沒有打過來 "},{"time":"1460966721.979","nick":"ⓢ miaoski","msg":"好像可以試試 :simple_smile:"},{"time":"1460966951.228","nick":"ⓢ miaoski","msg":"另有一個可能... AWS API Gateway 的 issuer ... 是 Symantec :disappointed: 這個是 LINE 不支援的"},{"time":"1460966954.234","nick":"ⓢ miaoski","msg":"剛剛才發現"},{"time":"1460967089.512","nick":"oreo_terces","msg":"aww "},{"time":"1460967104.928","nick":"oreo_terces","msg":"如果SSL handshake 階段就結束 http server 應該也不會有log "},{"time":"1460967697.122","nick":"ⓢ miaoski","msg":"唉還是卡在 issuer ... 只好放棄 AWS API Gateway 了? XD"},{"time":"1460968008.501","nick":"ⓢ miaoski","msg":"囧 AWS API Gateway 都是 Symantec CA ... 網路上其它人到底怎麼成功的 T_T"},{"time":"1460968314.859","nick":"ⓢ evan","msg":"有沒有可能是 callback 設定有問題錯了?"},{"time":"1460968481.087","nick":"ⓢ miaoski","msg":"@evan: 目前看起來還是憑證的問題。LINEBOT 只收固定的憑證，AWS 我選來選去用的都是 Symantec, 它們不支援"},{"time":"1460968499.074","nick":"ⓢ miaoski","msg":"然後我的 CloudFlare 的憑證是 COMODO 但是是 v2 … 我不知道他們支不支援"},{"time":"1460968507.181","nick":"oreo_terces","msg":"所以tcpdump 看的到LINE發request 嗎"},{"time":"1460968539.161","nick":"ⓢ miaoski","msg":"@oreo_terces: no ..."},{"time":"1460968546.133","nick":"ⓢ miaoski","msg":"所以它根本沒 request"},{"time":"1460968598.550","nick":"oreo_terces","msg":"就tcpdump 開著 然後自己對URL 發 request 跟 隨便丟個message 給 bot "},{"time":"1460968900.573","nick":"ⓢ evan","msg":"@miaoski:   問個題外話....  除了 Line Bot API  沒有考慮 微軟的 Bot Framework?  至少不用 HTTPS ．而且可以放 Skype/IM/Slack"},{"time":"1460976259.506","nick":"ⓢ miaoski","msg":"@evan: 沒有 :simple_smile:"},{"time":"1460981596.914","nick":"ⓢ yhsiang","msg":"可以"},{"time":"1460981645.946","nick":"ⓢ yhsiang","msg":"但是小貓袋跟 badge 那些都只有一份"},{"time":"1460985728.924","nick":"ⓢ miaoski","msg":"&lt;<a href=\"http://qiita.com/git6_com/items/008404506836011af33b\">http://qiita.com/git6_com/items/008404506836011af33b</a>&gt;"},{"time":"1460985729.608","nick":"kcwu_","msg":"slackbot5's url: [LINE BOT APIでリクエストが飛んでこない（SSL関係） - Qiita]"},{"time":"1460985752.913","nick":"ⓢ miaoski","msg":"前兩天貼過了。眼殘沒看到 CloudFlare 和 AWS API Gateway 都沒在「可以」的清單裡"},{"time":"1460985815.013","nick":"ⓢ hcchien","msg":"所以 @miaoski 是在把服務放上 official account? 還是單純的 bot?"},{"time":"1460985819.017","nick":"ⓢ miaoski","msg":"「SSLは，CloudflareのSSLを使ってやりました．」才怪，網路上有人說可以有人說不行。我自己試是不行。"},{"time":"1460985824.997","nick":"ⓢ miaoski","msg":"@hcchien: BOT."},{"time":"1460985834.019","nick":"ⓢ hcchien","msg":"ok"},{"time":"1460985838.018","nick":"ⓢ miaoski","msg":"官方開放 Trial BOT."},{"time":"1460985853.068","nick":"ⓢ miaoski","msg":"私人寫的 bot library 已經全部被要求下架了 (包括 Github 上的)"},{"time":"1460985873.067","nick":"ⓢ miaoski","msg":"我並不是很欣賞這件事... 但，它本來也就不是個開源的東西..."},{"time":"1460985929.148","nick":"ⓢ hcchien","msg":"也是啦"},{"time":"1460986051.303","nick":"ⓢ hcchien","msg":"最近拿到 protostar 帳號，也是要踹這個"},{"time":"1460986676.044","nick":"ⓢ miaoski","msg":"該怎麼說呢， COMODO Free Trial 犯了個很低級的錯誤..."},{"time":"1460986679.050","nick":"ⓢ miaoski","msg":"An account already exists for &quot;<a href=\"http://idv.tw&quot;.\">http://idv.tw&quot;.</a>"},{"time":"1460986698.069","nick":"ⓢ miaoski","msg":"(喂喂... 我申請的是 <a href=\"http://miaoski.idv.tw\">http://miaoski.idv.tw</a> ... 囧)"},{"time":"1460986973.412","nick":"ⓢ miaoski","msg":"最後一條路也斷了... @pofeng 請幫忙看看台灣 LINE 能不能處理一下，感謝。"},{"time":"1460987010.443","nick":"ⓢ pofeng","msg":"嗯嗯, 要 回報/詢問什麼 ?"},{"time":"1460987120.579","nick":"ⓢ miaoski","msg":"AWS API Gateway -&gt; Symantec CA -&gt; 失敗"},{"time":"1460987121.591","nick":"ⓢ ↵","msg":"Let's Encrypt -&gt; No intermediate file -&gt; 失敗"},{"time":"1460987122.579","nick":"ⓢ ↵","msg":"CloudFlare -&gt; COMODO CA 2 -&gt; 失敗 (LINE 只支援 COMODO CA, 不支援 CA 2)"},{"time":"1460987123.582","nick":"ⓢ ↵","msg":"COMODO SSL Free Trial 90 Days -&gt; 失敗 (COMODO 認為整個 <a href=\"http://idv.tw\">http://idv.tw</a> 是一個 Domain 而不是 TLD)"},{"time":"1460987158.623","nick":"ⓢ miaoski","msg":"我真的很想把 LINEBOT 和阿美語萌典結合在一起，不過這個技術問題看來不是我能解決的了，他們對 SSL 的 CA 太挑剔了。"},{"time":"1460987184.654","nick":"ⓢ pofeng","msg":"好, 我明天請 @singing 幫忙 email給窗口,  然後 CC: 給你"},{"time":"1460987220.695","nick":"ⓢ pofeng","msg":"辛苦了 !!"},{"time":"1460987248.734","nick":"ⓢ miaoski","msg":"@pofeng: 感謝! 剛本來想動腦筋到 ocf 頭上.... 發現 ocf 好像沒有 HTTPS :stuck_out_tongue:"},{"time":"1460987329.822","nick":"ⓢ pofeng","msg":"哈哈 對沒買"},{"time":"1460987338.825","nick":"ⓢ ronnywang","msg":"如果我要試用 line bot api 要怎麼開始?"},{"time":"1460987382.880","nick":"ⓢ miaoski","msg":"@ronnywang: 前面我有貼了好幾個 link (主要是星期六) 可以參考一下 logbot. 上面有範例程式。"},{"time":"1460987399.895","nick":"ⓢ miaoski","msg":"前提是你要先有申請到限量的 LINE Trial BOT 帳號"},{"time":"1460987408.904","nick":"ⓢ ronnywang","msg":"沒申請到就不能開始了?"},{"time":"1460987439.938","nick":"ⓢ ronnywang","msg":"好吧，那就沒辦法試用了 XD"},{"time":"1460987490.020","nick":"ⓢ miaoski","msg":"對啊 XDDD"},{"time":"1460987518.044","nick":"ⓢ miaoski","msg":"我寫的程式在這邊 &lt;<a href=\"https://github.com/miaoski/amis-linebot\">https://github.com/miaoski/amis-linebot</a>&gt; 理論上如果 callback 收得到就可以馬上用了"},{"time":"1460987519.800","nick":"kcwu_","msg":"slackbot5's url: [GitHub - miaoski/amis-linebot: 阿美語萌典 LINE BOT]"},{"time":"1460987538.068","nick":"ⓢ miaoski","msg":"但總之是抄抄改改，不如直接看之前貼的「汪汪 bot」的程式 (笑)"},{"time":"1460987670.243","nick":"ⓢ miaoski","msg":"[COMODO 回信] We were unable to process your email. You need to have a helpdesk account before you can create tickets using email."},{"time":"1460987677.237","nick":"ⓢ miaoski","msg":"lol"},{"time":"1460989652.601","nick":"ⓢ miaoski","msg":"@ronnywang: ++"},{"time":"1460989676.615","nick":"ⓢ ronnywang","msg":"哈哈，試了 cloudfront 和 startssl 的 key 也是毫無反應"},{"time":"1460990422.509","nick":"ⓢ miaoski","msg":"有沒有長輩付得起可以簽發 subdomain 的 key 的... XD"},{"time":"1460990440.530","nick":"ⓢ miaoski","msg":"*.<a href=\"http://linebot.g0v.tw\">http://linebot.g0v.tw</a> (大誤)"},{"time":"1460990764.910","nick":"ⓢ miaoski","msg":"一年將近一萬台票! 囧 ..."},{"time":"1460991518.061","nick":"ronnywang","msg":"其實不用 subdomain 吧，只要一個 <a href=\"https://linebot.g0v.tw/\">https://linebot.g0v.tw/</a> ，之後就用 <a href=\"https://linebot.g0v.tw/amis/callback\">https://linebot.g0v.tw/amis/callback</a> <a href=\"https://linebot.g0v.tw/newshelper/callback\">https://linebot.g0v.tw/newshelper/callback</a> 之類的就好"},{"time":"1460991528.988","nick":"ronnywang","msg":"然後可以 proxy 到其他 domain 去"},{"time":"1460991573.425","nick":"ronnywang","msg":"但我覺得與其花錢還是等 line 支援 letsencrypt 吧"},{"time":"1460991633.224","nick":"au","msg":"+1 實在沒道理不支援 letsencrypt"},{"time":"1460991994.343","nick":"ⓢ ronnywang","msg":"不然如果 azure 可以的話，先用 azure 弄個 proxy 暫時頂一下"},{"time":"1460992234.666","nick":"ⓢ ronnywang","msg":"@miaoski: 有試過用 heroku 架一個 https 的 proxy app 嗎?"},{"time":"1460992263.718","nick":"ⓢ ronnywang","msg":"heroku 的 SSL 是用 Digicert"},{"time":"1460992791.321","nick":"ⓢ miaoski","msg":"@ronnywang: 好主意。如果沒有意識型態上的問題 (畢竟不是開源軟體 + 說不定協調以後就改了) 我可以認捐 ..."},{"time":"1460992816.366","nick":"ⓢ miaoski","msg":"但我也覺得應該會改，畢竟用 AWS API Gateway 的人好多啊 XD"},{"time":"1460992831.350","nick":"ⓢ miaoski","msg":"@ronnywang: 還沒用過 Heroku. 有人回報說可以。但我好幾年沒用了.... :$"},{"time":"1460992848.379","nick":"ⓢ miaoski","msg":"如果你願意幫忙的話，密碼還沒改回來 ^^;"},{"time":"1460992866.818","nick":"kcwu_","msg":"他們來找的, 請他們贊助出錢?"},{"time":"1460993000.553","nick":"ⓢ miaoski","msg":"@kcwu: 協調看能不能開放 Let's Encrypt 比較好 ^^;"},{"time":"1460994448.340","nick":"ⓢ miaoski","msg":"Heroku 失敗了…剛剛 Ronny 試的。"},{"time":"1460994449.329","nick":"ⓢ ↵","msg":"issuer: C=US; O=DigiCert Inc; OU=<a href=\"http://www.digicert.com;\">http://www.digicert.com;</a> CN=DigiCert SHA2 High Assurance Server CA"},{"time":"1460994450.292","nick":"ⓢ ↵","msg":"這個不在LINE 的 CA List 裡"}]