[{"time":"1554013880.052","nick":"Guest60385","msg":"&lt;poga&gt; 108年文化部單位預算視覺化https://observablehq.com/d/551959cdf1e06267"},{"time":"1554013882.143","nick":"kcwu","msg":"Guest60385's url: [Observable]"},{"time":"1554013904.672","nick":"Guest60385","msg":"&lt;poga&gt; 108年文化部單位預算視覺化 <a href=\"https://observablehq.com/d/551959cdf1e06267\">https://observablehq.com/d/551959cdf1e06267</a>"},{"time":"1554014031.853","nick":"Guest60385","msg":"&lt;poga&gt; ㄜ貼錯連結了，這個才對 <a href=\"https://observablehq.com/@poga/108\">https://observablehq.com/@poga/108</a>"},{"time":"1554014033.285","nick":"kcwu","msg":"Guest60385's url: [108&amp;#x5E74;&amp;#x6587;&amp;#x5316;&amp;#x90E8;&amp;#x55AE;&amp;#x4F4D;&amp;#x9810;&amp;#x7B97;&amp;#x8996;&amp;#x89BA;&amp;#x5316; / Poga Po / Observable]"},{"time":"1554014048.832","nick":"Guest60385","msg":"&lt;poga&gt; ㄜ貼錯連結了，這個才對 <a href=\"https://observablehq.com/@poga/108\">https://observablehq.com/@poga/108</a>"},{"time":"1554017960.978","nick":"Guest60385","msg":"&lt;ronnywang&gt; 想尋求支援一下，有沒有人熟 imagemagick 之類的工具的，我想要知道哪一種比較演算法或是用什麼方法可以把下面兩張圖視為相同圖:"},{"time":"1554017965.998","nick":"Guest60385","msg":"&lt;ronnywang&gt; "},{"time":"1554017975.013","nick":"Guest60385","msg":"&lt;ronnywang&gt; "},{"time":"1554018027.072","nick":"Guest60385","msg":"&lt;ronnywang&gt; 如果用 imagemagick 的 compare 指令的話，有沒有哪個 metric 方式是適合用在這的，或者是如果要先轉單色再來比較話的，怎麼轉比較好？"},{"time":"1554026530.205","nick":"Guest60385","msg":"&lt;au&gt; @ronnywang 可以用 `identify -verbose -define identify:moments` 取得 Channel perceptual hash"},{"time":"1554026653.344","nick":"Guest60385","msg":"&lt;au&gt; 也可以直接用 `compare -metric phash 1.png 2.png diff.png` 生成 diff image"},{"time":"1554026664.488","nick":"Guest60385","msg":"&lt;au&gt; "},{"time":"1554027003.817","nick":"Guest60385","msg":"&lt;ronnywang&gt; 我現在作法是這樣，我從 youtube 上當天中天新聞抓出有出現的所有主標題，把他合成一張大圖片，如下："},{"time":"1554027010.866","nick":"Guest60385","msg":"&lt;au&gt; "},{"time":"1554027027.864","nick":"Guest60385","msg":"&lt;ronnywang&gt; "},{"time":"1554027104.008","nick":"Guest60385","msg":"&lt;au&gt; 看起來用 YUV colorspace 相比可以得到最接近的值"},{"time":"1554027121.091","nick":"Guest60385","msg":"&lt;ronnywang&gt; 然後再從新聞直播畫面中抓到的標題用 metric=RMSE subimage-search 找在這邊有沒有出現，有的話就表示我知道直播的新聞就是 youtube 內的新聞了"},{"time":"1554027154.086","nick":"Guest60385","msg":"&lt;ronnywang&gt; 成果如 <a href=\"https://ronnywang.github.io/ctitv-2019032318/\">https://ronnywang.github.io/ctitv-2019032318/</a> ，前面大部份都可以看到某一段時間可以跟 youtube id 連結起來了"},{"time":"1554027172.090","nick":"Guest60385","msg":"&lt;ronnywang&gt; 但是有一些空的，就遇到電視直播時和 youtube 上傳的顏色不同的問題，像我上面貼的範例圖"},{"time":"1554027245.211","nick":"Guest60385","msg":"&lt;au&gt; 這兩張也不只是顏色不同，在 `？李` 上方一個有 alpha 一個是 opaque open caption"},{"time":"1554027256.246","nick":"Guest60385","msg":"&lt;au&gt; 但 `compare -metric phash -define phash:colorspaces=YUV 1.png 2.png null` 似乎可以試試"},{"time":"1554027278.235","nick":"Guest60385","msg":"&lt;ronnywang&gt; 我試試看，謝業"},{"time":"1554027495.476","nick":"Guest60385","msg":"&lt;ronnywang&gt; 我要怎麼判斷這個 YUV 值是高還是低？我用 compare -metric phash -define phash:colorspaces=YUV 1.png 2.png null 比較上面兩張圖得到 28.5967 ，但是我把 2.png 換成隨便亂抓的一個同大小字幕圖，得到 33.261 ，好像沒那麼顯著差異"},{"time":"1554027566.600","nick":"Guest60385","msg":"&lt;au&gt; 另一個字幕圖也可以上傳上來看看"},{"time":"1554027585.659","nick":"Guest60385","msg":"&lt;au&gt; `colorspaces` 後面可以跟好幾個 colorspaces (逗點隔開)"},{"time":"1554027632.712","nick":"Guest60385","msg":"&lt;ronnywang&gt; "},{"time":"1554027648.687","nick":"Guest60385","msg":"&lt;ronnywang&gt; "},{"time":"1554027649.713","nick":"Guest60385","msg":"&lt;ronnywang&gt; 亂傳個兩個"},{"time":"1554028054.221","nick":"Guest60385","msg":"&lt;ronnywang&gt; 看起來中天的文字好像都沒有用漸層色，也許我可以計算一下字幕圖裡面哪一個顏色出現的 pixel 是最多或次多的，那這個顏色不是背景色就是文字色"},{"time":"1554028078.292","nick":"Guest60385","msg":"&lt;ronnywang&gt; 這樣把他變成只有單色再來比對，應該可以做完全比對"},{"time":"1554028395.779","nick":"Guest60385","msg":"&lt;au&gt; 目前看起來 `-define phash:normalize=true -define phash:colorspaces=HSB` 鑑別率還算高"},{"time":"1554029805.583","nick":"Guest60385","msg":"&lt;au&gt; @ronnywang 剛試出來了 XD 可以用 convert image.png -canny 0x1+10%+30% contour.png"},{"time":"1554029822.573","nick":"Guest60385","msg":"&lt;au&gt; "},{"time":"1554029844.595","nick":"Guest60385","msg":"&lt;au&gt; 再用 `-define phash:normalize=true -define phash:colorspaces=YCC` 比即可"},{"time":"1554029883.636","nick":"Guest60385","msg":"&lt;au&gt; 這樣 distance = 0.08 (只差在邊線)，另兩個圖的 distance 則分別是 1.62554 和 0.416081"},{"time":"1554044861.241","nick":"Guest60385","msg":"&lt;ronnywang&gt; 喔喔喔，我來試試看"}]